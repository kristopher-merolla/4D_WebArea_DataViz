<!DOCTYPE html>
<html>
	<head>
		<title>Test</title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
		<script>
			
			$(document).ready(function() {

				var trace1 = {
				  x: [1999, 2000, 2001, 2002],
				  y: [10, 15, 13, 17],
				  type: 'scatter'
				};

				var trace2 = {
				  x: [1999, 2000, 2001, 2002],
				  y: [16, 5, 11, 9],
				  type: 'scatter'
				};

				var data = [trace1, trace2];

				var layout = {
				  title: "Sample Chart (use 'Clear plot' to remove)",
				  xaxis: {
				    title: 'Year',
				    showgrid: false,
				    zeroline: false
				  },
				  yaxis: {
				    title: 'Percent',
				    showline: false
				  }
				};

				Plotly.newPlot("my-graph", data, layout);

				// Plotly.addTraces("my-graph", data);

			// 	// deprecated: calling plot again will add new trace(s) to the plot,
			// 	// but will ignore new layout.
			// 	var data2 = [{
			// 	  x: [1999, 2000, 2001, 2002],
			// 	  y: [10, 9, 8, 7],
			// 	  type: 'scatter'
			// 	}];
			// 	var layout2 = {title: 'Revenue'};
			// 	Plotly.newPlot("my-graph", data2, layout2);
			
			});

			function newGraph(vXvalues,vYvalues,vtTitle,vtXaxis,vtYaxis) {
				var newLayout = {
					title: vtTitle,
					xaxis: {
						title: vtXaxis,
						showline: false,
						zeroline: false
					},
					yaxis: {
						title: vtYaxis,
						showline: false
					}
				};


				Plotly.newPlot("my-graph", newData, newLayout);
			}

			function clearPlots() {
				Plotly.deleteTraces("my-graph", 0);
			}

			function addTrace(vXvalues,vYvalues) {
				var newData = [{
					x: stringToArray(vXvalues),
					y: stringToArray(vYvalues),
					type: 'scatter'
				}];
				Plotly.addTraces("my-graph", newData);
			}

			// helper function to turn string into array of numbers
			function stringToArray(string) {
				var runner = "";
				var outputArray = [];
				for (var i = 0; i<string.length; i++) {
					if (!isNaN(string[i])||(string[i]==".")) {
						runner += string[i];
					}
					else {
						console.log(parseFloat(runner));
						if (parseFloat(runner)||(parseFloat(runner)==0)){
							outputArray.push(parseFloat(runner));
						}
						runner = "";
					}
					if (i+1 == string.length) {
						console.log(parseFloat(runner));
						if (parseFloat(runner)||(parseFloat(runner)==0)){
							outputArray.push(parseFloat(runner));
						}
						runner = "";
					}
				}
				return(outputArray);
			}


		</script>
	</head>
	<body>

		<div id="my-graph" style="width:auto;height:auto;"></div>

	</body>
</html>